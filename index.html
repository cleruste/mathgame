<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calcul mental EJM CM1-1</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Left retractable settings panel (hidden by default) -->
    <div id="settingsPanel" class="settings-panel left-panel">
      <h3>Configuration</h3>
      <label class="setting-item">Questions per module:
        <input id="numQuestionsInput" type="number" min="1" max="100" value="10">
      </label>
      <label class="setting-item">Difficulty:
        <select id="difficultySelect">
          <option value="0">Easy</option>
          <option value="1" selected>Medium</option>
          <option value="2">Hard</option>
        </select>
      </label>
      <label class="setting-item">Time per question (seconds):
        <input id="timePerQuestionInput" type="number" min="1" max="60" value="10">
      </label>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
        <button id="saveSettingsBtn" class="btn small">Save</button>
        <button id="closeSettingsBtn" class="btn small">Close</button>
        <button id="resetHighscoresBtn" class="btn small" style="background:#888">Reset High Scores</button>
      </div>
      <div class="settings-note">Changes saved and persist on refresh.</div>
    </div>

    <!-- Landing -->
    <section id="landing" class="screen">
      <h1 class="title">Math Games</h1>
      <p class="subtitle">Choose a game and have fun!</p>
      <div class="landing-controls">
        <button id="openSettingsBtn" class="btn small">Settings</button>
      </div>

      <!-- settings panel is a left retractable panel; difficulty control is here -->

      <div id="modules" class="modules"></div>
    </section>

    <!-- Game -->
    <section id="game" class="screen hidden">
      <div class="game-header">
        <button id="backToLanding" class="btn small">Back</button>
        <div class="module-title" id="moduleTitle"></div>
        <div class="score" id="scoreDisplay">Score: 0</div>
      </div>

      <div class="question-area">
        <div id="timerBar" class="timer-bar"><div id="timerProgress"></div></div>
        <div id="questionText" class="question">0 + 0 = ?</div>
        <div id="inputDisplay" class="input-display">â€”</div>
        <div id="feedback" class="feedback hidden"></div>
      </div>

      <div class="numpad" id="numpad"></div>
    </section>

    <!-- Results -->
    <section id="results" class="screen hidden">
      <h2>Module Complete</h2>
      <p id="resultsText" class="results-text"></p>
      <button id="returnHome" class="btn">Return to Modules</button>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
